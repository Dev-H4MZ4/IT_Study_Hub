<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>System Analysis & Design - Ultimate Atmosphere</title>
    <style>
        /* --- VARIABLES & RESET --- */
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-red: #ff0055;
            --neon-green: #0aff68;
            --glass-bg: rgba(20, 20, 30, 0.5);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-color: #ffffff;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #020205;
            color: var(--text-color);
            font-family: var(--font-main);
            overflow: hidden;
            height: 100vh;
            /* Fix for mobile address bar resize */
            height: 100dvh; 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- BACKGROUND LAYERS --- */
        canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
        }
        #bgCanvas { z-index: 0; filter: blur(8px); }
        #rainCanvas { z-index: 1; pointer-events: none; filter: blur(2px) contrast(1.2); opacity: 0.8; mix-blend-mode: screen; }
        
        .window-tint {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, rgba(10, 10, 20, 0.2) 0%, rgba(0, 0, 0, 0.6) 100%);
            z-index: 2; pointer-events: none;
        }

        .study-light-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 70% 30%, rgba(255, 200, 120, 0.15), transparent 60%);
            z-index: 3; pointer-events: none; opacity: 0; transition: opacity 1s ease; mix-blend-mode: overlay;
        }

        /* --- LAMP COMPONENT --- */
        .lamp-container {
            position: absolute;
            top: -50px; right: 15%;
            z-index: 1000;
            display: flex; flex-direction: column; align-items: center;
            transform-origin: top center;
            animation: swing 8s ease-in-out infinite;
            /* Transition for smooth mobile resize */
            transition: transform 0.3s ease, right 0.3s ease; 
        }

        @keyframes swing {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(1.5deg); }
            100% { transform: rotate(0deg); }
        }

        .lamp-shade {
            width: 120px; height: 80px;
            background: linear-gradient(to bottom, #222, #000);
            border-radius: 60px 60px 10px 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.8);
            position: relative; z-index: 2;
        }

        .lamp-bulb {
            width: 40px; height: 40px;
            background: #444; border-radius: 50%;
            position: absolute; bottom: -15px; left: 50%;
            transform: translateX(-50%); transition: all 0.5s; z-index: 1;
        }

        .lamp-bulb.on { background: #ffebcc; box-shadow: 0 10px 80px 20px rgba(255, 200, 100, 0.5); }

        .pull-string {
            width: 2px; height: 120px; background: #666; margin-top: -5px;
            position: relative; cursor: pointer; transition: height 0.2s; z-index: 0;
            /* Increase hit area for mobile touch */
            padding: 0 10px; content-box: content-box; left: -10px;
        }
        .pull-string::before {
            content: ''; position: absolute; left: 10px; top: 0; width: 2px; height: 100%; background: #666;
        }

        .pull-knob {
            width: 12px; height: 20px; background: #b8860b;
            border-radius: 5px; position: absolute; bottom: 0; left: 50%;
            transform: translateX(-50%); box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }

        .pulling .pull-string::before { height: 140px; } /* Visual fix */

        /* --- MAIN UI CONTAINER --- */
        .glass-container {
            position: relative; z-index: 10;
            width: 90%; max-width: 950px;
            height: 85vh; max-height: 900px;
            background: var(--glass-bg);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
            display: flex; flex-direction: column;
            overflow: hidden; transition: all 0.8s ease;
        }

        .neon-line {
            width: 100%; height: 3px; flex-shrink: 0;
            background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-purple), transparent);
            box-shadow: 0 0 15px var(--neon-blue); transition: all 0.8s ease;
        }

        /* HEADER */
        header {
            padding: 15px 25px;
            display: flex; justify-content: flex-start; align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            flex-shrink: 0; gap: 10px;
        }

        h1 { 
            font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px; 
            text-shadow: 0 0 10px var(--neon-blue); transition: all 0.8s; margin: 0;
        }

        .controls { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; justify-content: flex-start; }

        .btn-neon {
            background: transparent; border: 1px solid var(--neon-blue); color: var(--neon-blue);
            padding: 6px 16px; border-radius: 50px; cursor: pointer; font-weight: bold;
            transition: 0.3s; text-transform: uppercase; font-size: 0.75rem; white-space: nowrap;
            box-shadow: 0 0 5px rgba(0, 243, 255, 0.2);
        }
        .btn-neon:active { transform: scale(0.95); } /* Mobile touch feedback */
        .btn-neon:hover { background: var(--neon-blue); color: #000; box-shadow: 0 0 20px var(--neon-blue); }

        /* CONTENT AREA */
        #app-content { 
            flex: 1; padding: 20px 30px; 
            overflow-y: auto; overflow-x: hidden; position: relative; 
            -webkit-overflow-scrolling: touch; /* Smooth scroll on iOS */
        }
        
        /* Menu Cards */
        .menu-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; margin-top: 30px; padding-bottom: 40px;
        }
        .exam-card {
            background: rgba(255, 255, 255, 0.03); padding: 30px 20px; border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05); text-align: center; cursor: pointer;
            transition: all 0.4s ease;
        }
        .exam-card:active { transform: scale(0.98); background: rgba(255, 255, 255, 0.05); }

        /* Questions */
        .question-container {
            background: rgba(0, 0, 0, 0.4); padding: 20px; border-radius: 15px;
            border-left: 4px solid var(--neon-blue); margin-bottom: 20px;
            transition: all 0.5s;
        }
        .question-text { font-size: 1.2rem; margin-bottom: 20px; line-height: 1.5; font-weight: 300; }
        .options-grid { display: grid; gap: 12px; }
        .option-btn {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px; border-radius: 10px; color: white; text-align: left; cursor: pointer;
            transition: 0.2s; font-size: 1rem; display: flex; align-items: center;
        }
        .option-btn:active { background: rgba(255, 255, 255, 0.1); }

        /* Terms & Toggle */
        .term-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 15px; }
        .term-chip {
            background: rgba(0,0,0,0.6); border: 1px solid #444; color: #ddd;
            padding: 10px 16px; border-radius: 30px; cursor: pointer; font-size: 0.9rem;
        }
        
        .toggle-wrapper {
            display: flex; align-items: center; gap: 10px; color: #aaa; font-size: 0.85rem;
            border: 1px solid rgba(255,255,255,0.1); padding: 4px 12px; border-radius: 20px; background: rgba(0,0,0,0.2);
        }
        .toggle-switch {
            position: relative; width: 36px; height: 18px; background: #333; border-radius: 20px; cursor: pointer;
        }
        .toggle-switch::after {
            content: ''; position: absolute; top: 2px; left: 2px; width: 14px; height: 14px; background: #fff; border-radius: 50%; transition: 0.3s;
        }
        .toggle-switch.active { background: var(--neon-green); }
        .toggle-switch.active::after { left: 20px; }

        /* Results */
        .score-display { 
            font-size: clamp(3rem, 10vw, 5rem); /* Responsive Font Size */
            color: var(--neon-green); margin: 20px 0; font-weight: bold; 
            text-shadow: 0 0 30px rgba(10, 255, 104, 0.4);
        }
        
        /* Views & Animations */
        .view { display: none; animation: fadeIn 0.5s ease-out; }
        .view.active { display: flex; flex-direction: column; gap: 10px; height: 100%; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Feedback Overlay */
        #feedback-area { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            pointer-events: none; display: flex; justify-content: center; align-items: center; z-index: 200; 
        }

        /* --- STUDY MODE OVERRIDES --- */
        body.study-mode .glass-container {
            background: rgba(40, 35, 30, 0.85);
            border-color: rgba(255, 200, 150, 0.3);
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
        }
        body.study-mode .question-container { border-left-color: #ffcc80; background: rgba(0, 0, 0, 0.5); }
        body.study-mode h1, body.study-mode h2 { color: #ffe0b2; text-shadow: 0 0 10px rgba(255, 100, 0, 0.3); }
        body.study-mode .btn-neon { border-color: #ffcc80; color: #ffcc80; }
        body.study-mode .neon-line { background: linear-gradient(90deg, transparent, #ffcc80, #ff6f00, transparent); box-shadow: 0 0 15px #ff6f00; }
        body.study-mode .study-light-overlay { opacity: 1; }

        /* ================= MOBILE OPTIMIZATION ================= */
        @media (max-width: 768px) {
            /* Adjust Container */
            .glass-container {
                width: 95%;
                height: 92dvh; /* Use dynamic viewport height */
                border-radius: 12px;
            }
            
            /* Adjust Header */
            header {
                flex-direction: column;
                align-items: stretch;
                padding: 15px;
                gap: 15px;
            }
            #page-title { text-align: center; }
            h1 { font-size: 1.3rem; }
            .controls { justify-content: center; }
            #timer { font-size: 1rem !important; }

            /* Move Lamp out of the way */
            .lamp-container {
                right: -10px;
                top: -60px;
                transform: scale(0.6); /* Smaller lamp */
            }
            @keyframes swing {
                0% { transform: scale(0.6) rotate(0deg); }
                50% { transform: scale(0.6) rotate(1.5deg); }
                100% { transform: scale(0.6) rotate(0deg); }
            }

            /* Content Padding */
            #app-content { padding: 15px; }

            /* Adjust Cards */
            .menu-grid { grid-template-columns: 1fr; gap: 15px; } /* Single column */

            /* Typography Scaling */
            .question-text { font-size: 1.1rem; }
            .translated-text { font-size: 0.95rem; }
            
            /* Buttons */
            .btn-neon { padding: 8px 12px; font-size: 0.7rem; }
            
            /* Specific fix for True/False buttons to fit */
            #options-area > div[style*="flex"] {
                gap: 10px !important;
            }
            #options-area > div[style*="flex"] .btn-neon {
                padding: 10px 20px !important;
                font-size: 1.1rem !important;
                flex: 1;
            }
        }
    </style>
</head>
<body>
    
    <canvas id="bgCanvas"></canvas> <canvas id="rainCanvas"></canvas> <div class="window-tint"></div> <div class="study-light-overlay"></div> 
    
    <div class="lamp-container" onclick="toggleLamp()">
        <div class="lamp-shade"></div>
        <div class="lamp-bulb" id="bulb"></div>
        <div class="pull-string" id="pullString">
            <div class="pull-knob"></div>
        </div>
    </div>

    <div class="glass-container" id="main-container">
        <div class="neon-line"></div>
        <header>
            <div id="page-title">
                <h1>Exam System</h1>
                <span style="font-size: 0.75rem; color: #888; letter-spacing: 2px;">V2.0 MOBILE READY</span>
            </div>
        <div class="controls">
            <a href="index.html" class="btn-neon" style="text-decoration: none; display: flex; align-items: center;">HOME</a>
            <button class="btn-neon" id="homeBtn">BACK</button>
            <button class="btn-neon" id="translateBtn">TRANSLATE: OFF</button>
            <div id="timer" style="font-family: 'Courier New', monospace; font-size: 1.2rem; font-weight:bold; color: #ddd;">00:00</div>
        </div>
        </header>

        <div id="app-content">
            <div id="view-menu" class="view active">
                <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px;">
                    <h2 style="margin:0; font-size:1.4rem;">Select Model</h2>
                    <div class="toggle-wrapper" onclick="toggleShuffle()">
                        <span>Mix Questions</span>
                        <div class="toggle-switch" id="shuffleToggle"></div>
                    </div>
                </div>

                <div class="menu-grid">
                    <div class="exam-card" onclick="startExam('2025')">
                        <h2 style="color: var(--neon-blue);">2025</h2>
                        <p>Faculty Model</p>
                        <small style="color:#777; display:block; margin-top:10px;">True/False • Matching</small>
                    </div>
                    <div class="exam-card" onclick="startExam('2015-2024')">
                        <h2 style="color: var(--neon-blue);">2015-2024</h2>
                        <p>Comprehensive</p>
                        <small style="color:#777; display:block; margin-top:10px;">MCQ • Essay • All Types</small>
                    </div>
                </div>
                
                <div style="margin-top: auto; padding-top:20px; text-align: center; color: rgba(255,255,255,0.3); font-size: 0.8rem;">
                    <p>Tap the lamp string to toggle Study Mode</p>
                </div>
            </div>

            <div id="view-quiz" class="view">
                <div class="question-container">
                    <div id="q-counter" style="color: var(--neon-blue); margin-bottom: 15px; font-size: 0.8rem; letter-spacing: 1px;">QUESTION 1/10</div>
                    <h2 id="q-text" class="question-text">Loading...</h2>
                    <span id="q-translation" class="translated-text hidden" style="display:none; font-size: 1rem; color: #bbb; margin-top: 15px; font-style: italic; border-top: 1px dashed rgba(255,255,255,0.1); padding-top: 15px;"></span>
                    <div id="options-area" class="options-grid"></div>
                </div>
            </div>

            <div id="view-results" class="view">
                <div class="results-content" style="text-align: center; padding: 20px;">
                    <h1 style="letter-spacing: 5px; font-weight: 300; font-size: 1.5rem;">RESULTS</h1>
                    <div class="score-display" id="final-score">0%</div>
                    <p id="final-msg" style="font-size: 1.2rem; letter-spacing: 2px;">PERFORMANCE</p>
                    
                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 40px; flex-wrap: wrap;">
                        <button class="btn-neon" onclick="location.reload()">MAIN MENU</button>
                        <button class="btn-neon" onclick="restartShuffled()">RETAKE SHUFFLED</button>
                        <button class="btn-neon" onclick="reviewMistakes()">REVIEW MISTAKES</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="feedback-area"></div>
    </div>

<script>
    /* ================= SYSTEM STATE ================= */
    const state = {
        currentExamId: null,
        currentQuestions: [],
        originalQuestions: [], 
        currentIndex: 0,
        score: 0,
        mistakes: [],
        translateMode: false,
        shuffleEnabled: false, 
        timerInterval: null,
        seconds: 0,
        studyMode: false
    };

    const DOM = {
        views: { menu: document.getElementById('view-menu'), quiz: document.getElementById('view-quiz'), results: document.getElementById('view-results') },
        qText: document.getElementById('q-text'), qTrans: document.getElementById('q-translation'),
        options: document.getElementById('options-area'), counter: document.getElementById('q-counter'),
        feedback: document.getElementById('feedback-area'), timer: document.getElementById('timer'),
        translateBtn: document.getElementById('translateBtn'), shuffleToggle: document.getElementById('shuffleToggle'),
        bulb: document.getElementById('bulb')
    };

    /* ================= BACKGROUND ANIMATIONS ================= */
    const bgCanvas = document.getElementById('bgCanvas');
    const bgCtx = bgCanvas.getContext('2d');
    const rainCanvas = document.getElementById('rainCanvas');
    const rainCtx = rainCanvas.getContext('2d');
    
    // Resize Handler
    function resizeCanvases() {
        bgCanvas.width = window.innerWidth; bgCanvas.height = window.innerHeight;
        rainCanvas.width = window.innerWidth; rainCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvases);
    resizeCanvases();

    // Fireflies Logic
    const fireflies = [];
    class Firefly {
        constructor() { this.init(); }
        init() {
            this.x = Math.random() * bgCanvas.width;
            this.y = Math.random() * bgCanvas.height;
            this.radius = Math.random() * 3 + 1; 
            this.speedX = (Math.random() - 0.5) * 0.5; 
            this.speedY = (Math.random() - 0.5) * 0.5;
            this.alpha = 0; this.fadingIn = true;
            this.maxAlpha = Math.random() * 0.6 + 0.2;
            this.color = ['255, 0, 85', '0, 243, 255', '10, 255, 104', '255, 204, 0'][Math.floor(Math.random() * 4)];
        }
        update() {
            this.x += this.speedX; this.y += this.speedY;
            if (this.fadingIn) { this.alpha += 0.005; if (this.alpha >= this.maxAlpha) this.fadingIn = false; } 
            else { this.alpha -= 0.005; if (this.alpha <= 0) this.init(); }
            if (this.x < 0) this.x = bgCanvas.width; if (this.x > bgCanvas.width) this.x = 0;
            if (this.y < 0) this.y = bgCanvas.height; if (this.y > bgCanvas.height) this.y = 0;
        }
        draw() {
            bgCtx.beginPath(); bgCtx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            bgCtx.fillStyle = `rgba(${this.color}, ${this.alpha})`;
            bgCtx.shadowBlur = 10; bgCtx.shadowColor = `rgba(${this.color}, ${this.alpha})`; bgCtx.fill();
        }
    }
    for(let i=0; i<50; i++) fireflies.push(new Firefly());

    // Rain Logic
    const drops = [];
    class Drop {
        constructor() { this.reset(); this.y = Math.random() * rainCanvas.height; }
        reset() {
            this.x = Math.random() * rainCanvas.width;
            this.y = -50;
            this.speed = Math.random() * 10 + 20; 
            this.len = Math.random() * 40 + 20;   
            this.width = Math.random() * 2 + 1;   
        }
        fall() { this.y += this.speed; if (this.y > rainCanvas.height) this.reset(); }
        draw() {
            rainCtx.beginPath(); rainCtx.moveTo(this.x, this.y); rainCtx.lineTo(this.x, this.y + this.len);
            rainCtx.strokeStyle = 'rgba(200, 220, 255, 0.6)'; rainCtx.lineWidth = this.width; rainCtx.lineCap = 'round'; rainCtx.stroke();
        }
    }
    for(let i=0; i<80; i++) drops.push(new Drop()); 

    function animate() {
        bgCtx.clearRect(0, 0, bgCanvas.width, bgCanvas.height);
        rainCtx.clearRect(0, 0, rainCanvas.width, rainCanvas.height);
        fireflies.forEach(f => { f.update(); f.draw(); });
        drops.forEach(d => { d.fall(); d.draw(); });
        requestAnimationFrame(animate);
    }
    animate();

    /* ================= UI LOGIC ================= */
    
    function toggleShuffle() {
        state.shuffleEnabled = !state.shuffleEnabled;
        DOM.shuffleToggle.classList.toggle('active', state.shuffleEnabled);
    }

    function toggleLamp() {
        const container = document.querySelector('.lamp-container');
        container.classList.add('pulling');
        setTimeout(() => container.classList.remove('pulling'), 300);

        state.studyMode = !state.studyMode;
        if(state.studyMode) {
            DOM.bulb.classList.add('on');
            document.body.classList.add('study-mode');
        } else {
            DOM.bulb.classList.remove('on');
            document.body.classList.remove('study-mode');
        }
    }

    DOM.translateBtn.addEventListener('click', () => {
        state.translateMode = !state.translateMode;
        DOM.translateBtn.innerText = state.translateMode ? "TRANSLATE: ON" : "TRANSLATE: OFF";
        DOM.translateBtn.style.boxShadow = state.translateMode ? "0 0 15px var(--neon-green)" : "";
        DOM.translateBtn.style.color = state.translateMode ? "var(--neon-green)" : "var(--neon-blue)";
        if(state.currentExamId && DOM.views.quiz.classList.contains('active')) {
             DOM.qTrans.style.display = state.translateMode ? 'block' : 'none';
             DOM.qTrans.classList.toggle('hidden', !state.translateMode);
        }
    });

    document.getElementById('homeBtn').addEventListener('click', () => location.reload());

    function startTimer() {
        clearInterval(state.timerInterval);
        state.seconds = 0;
        state.timerInterval = setInterval(() => {
            state.seconds++;
            const m = Math.floor(state.seconds / 60).toString().padStart(2, '0');
            const s = (state.seconds % 60).toString().padStart(2, '0');
            DOM.timer.innerText = `${m}:${s}`;
        }, 1000);
    }

    function switchView(viewName) {
        Object.values(DOM.views).forEach(v => {
            v.classList.remove('active');
            v.style.display = 'none'; // Ensure fully hidden
        });
        DOM.views[viewName].style.display = 'flex';
        // Small timeout to allow display change before adding active class for animation
        setTimeout(() => DOM.views[viewName].classList.add('active'), 10);
    }

    function startExam(id) {
        state.currentExamId = id;
        const examData = EXAM_DB.find(e => e.id === id);
        if(!examData) return;
        
        state.originalQuestions = JSON.parse(JSON.stringify(examData.questions));
        state.currentQuestions = JSON.parse(JSON.stringify(examData.questions));
        
        if (state.shuffleEnabled) state.currentQuestions.sort(() => Math.random() - 0.5);

        state.currentIndex = 0; state.score = 0; state.mistakes = [];
        switchView('quiz'); startTimer(); renderQuestion();
    }

    function restartShuffled() {
        state.currentQuestions = [...state.originalQuestions].sort(() => Math.random() - 0.5);
        state.currentIndex = 0; state.score = 0; state.mistakes = [];
        switchView('quiz'); startTimer(); renderQuestion();
    }

    function renderQuestion() {
        if (state.currentIndex >= state.currentQuestions.length) { finishExam(); return; }
        const q = state.currentQuestions[state.currentIndex];
        
        DOM.qText.style.opacity = 0;
        setTimeout(() => { DOM.qText.innerHTML = q.q_en; DOM.qText.style.opacity = 1; }, 100);

        DOM.qTrans.innerHTML = q.q_ar;
        DOM.qTrans.style.display = state.translateMode ? 'block' : 'none';
        
        DOM.counter.innerText = `QUESTION ${state.currentIndex + 1} / ${state.currentQuestions.length}`;
        DOM.options.innerHTML = '';
        
        // Scroll to top of content on new question for mobile
        document.getElementById('app-content').scrollTop = 0;

        if (q.type === 'tf') renderTrueFalse(q);
        else if (q.type === 'mcq') renderMCQ(q);
        else if (q.type === 'match') renderMatching(q);
        else if (q.type === 'essay') renderEssay(q);
    }

    /* RENDER HELPERS */
    function renderTrueFalse(q) {
        const container = document.createElement('div');
        container.style.cssText = 'display:flex; gap:20px; justify-content:center; flex-wrap:wrap;';
        
        const btnTrue = document.createElement('button');
        btnTrue.className = 'btn-neon'; 
        btnTrue.style.cssText = 'border-color:var(--neon-green); color:var(--neon-green); font-size:1.5rem; padding:15px 40px;';
        btnTrue.innerText = 'TRUE'; 
        btnTrue.onclick = () => handleAnswer(true, q.correct);

        const btnFalse = document.createElement('button');
        btnFalse.className = 'btn-neon';
        btnFalse.style.cssText = 'border-color:var(--neon-red); color:var(--neon-red); font-size:1.5rem; padding:15px 40px;';
        btnFalse.innerText = 'FALSE'; 
        btnFalse.onclick = () => handleAnswer(false, q.correct);

        container.appendChild(btnTrue); container.appendChild(btnFalse);
        DOM.options.appendChild(container);
    }

    function renderMCQ(q) {
        q.options.forEach((optText, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerHTML = `<span style="color:var(--neon-blue); font-weight:bold; margin-right:10px;">${String.fromCharCode(65+idx)}.</span> ${optText}`;
            btn.onclick = () => handleAnswer(idx, q.correct);
            DOM.options.appendChild(btn);
        });
    }

    function renderMatching(q) {
        const container = document.createElement('div');
        container.className = 'term-list';
        const indices = q.options.map((_, i) => i).sort(() => Math.random() - 0.5);
        indices.forEach(realIndex => {
            const chip = document.createElement('div');
            chip.className = 'term-chip';
            chip.innerText = q.options[realIndex];
            chip.onclick = () => handleAnswer(realIndex, q.correct);
            container.appendChild(chip);
        });
        DOM.options.appendChild(container);
    }

    function renderEssay(q) {
        const btn = document.createElement('button');
        btn.className = 'btn-neon'; btn.innerText = 'SHOW ANSWER'; btn.style.width = '100%';
        btn.onclick = () => {
            btn.style.display = 'none';
            const answerBox = document.createElement('div');
            answerBox.style.animation = "fadeIn 0.5s";
            answerBox.innerHTML = `
                <div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:10px; margin-bottom:20px; border:1px solid var(--neon-green);">
                    <h3 style="color:var(--neon-green); margin-bottom:10px; font-size:1rem;">CORRECT ANSWER:</h3>
                    <p style="line-height:1.6; color:#ddd; font-size:0.95rem;">${q.answer}</p>
                </div>
                <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
                    <button class="btn-neon" style="border-color:var(--neon-green); color:var(--neon-green)" onclick="handleAnswer(true, true)">I GOT IT</button>
                    <button class="btn-neon" style="border-color:var(--neon-red); color:var(--neon-red)" onclick="handleAnswer(false, true)">I MISSED IT</button>
                </div>`;
            DOM.options.appendChild(answerBox);
        };
        DOM.options.appendChild(btn);
    }

    function handleAnswer(userVal, correctVal) {
        const allBtns = DOM.options.querySelectorAll('button, .term-chip, .option-btn');
        allBtns.forEach(b => b.style.pointerEvents = 'none');
        
        const isCorrect = (userVal === correctVal);
        if (isCorrect) {
            state.score++;
            showFeedback("CORRECT", state.studyMode ? '#ffcc80' : 'var(--neon-green)');
        } else {
            state.mistakes.push(state.currentQuestions[state.currentIndex]);
            // Subtle shake effect
            document.getElementById('main-container').style.transform = "translateX(-5px)";
            setTimeout(() => document.getElementById('main-container').style.transform = "translateX(5px)", 50);
            setTimeout(() => document.getElementById('main-container').style.transform = "translateX(0)", 100);
            showFeedback("WRONG", "var(--neon-red)");
        }
        
        setTimeout(() => {
            state.currentIndex++;
            renderQuestion();
        }, 1200);
    }

    function showFeedback(text, color) {
        DOM.feedback.innerHTML = `<h1 style="font-size: clamp(3rem, 15vw, 6rem); color: ${color}; text-shadow: 0 0 50px ${color}; transform: rotate(-5deg); font-weight:900;">${text}</h1>`;
        DOM.feedback.animate([{opacity: 0, transform: 'scale(0.5)'}, {opacity: 1, transform: 'scale(1)'}, {opacity: 0, transform: 'scale(1.2)'}], {duration: 1000, easing: 'ease-out'});
        setTimeout(() => DOM.feedback.innerHTML = '', 1000);
    }

    function finishExam() {
        clearInterval(state.timerInterval);
        switchView('results');
        const pct = Math.round((state.score / state.currentQuestions.length) * 100);
        document.getElementById('final-score').innerText = `${pct}%`;
        const msg = pct >= 85 ? "EXCELLENT" : (pct >= 60 ? "GOOD JOB" : "STUDY HARDER");
        const msgEl = document.getElementById('final-msg');
        msgEl.innerText = msg;
        msgEl.style.color = pct >= 60 ? 'var(--neon-green)' : 'var(--neon-red)';
    }

    function reviewMistakes() {
        if(state.mistakes.length === 0) { alert("Perfect Score! No mistakes to review."); return; }
        state.currentQuestions = [...state.mistakes];
        state.currentIndex = 0; state.score = 0; state.mistakes = [];
        switchView('quiz'); renderQuestion();
        showFeedback("REVIEW", "var(--neon-purple)");
    }

    /* ================= DATABASE ================= */
    const KEY_TERMS_LIST = [
        "Agile Methodologies", "Use case", "Unified Modeling Language", "Use-case diagram", "Encapsulation", "State transition", "State", "Simple message", "Concrete class", "Simple design", "Event", "Multiplicity", "Object", "Operation", "Object class", "Refactoring", "Behavior", "Synchronous message", "Association", "Class diagram", "Sequence diagram", "Association role", "Aggregation", "Component diagram", "Actor", "Activation", "Abstract class", "Object diagram", "Project workbook", "Extranet", "Data store", "Project charter", "Systems implementation and operation", "DFD consistency", "Repository", "Resources", "Project management", "Scribe", "Process", "Systems development methodology", "Participatory design (PD)", "One-time cost", "Recurring cost", "Walkthrough", "Entity type", "Constraint", "Purpose", "Request for proposal (RFP)", "Level-0 diagram", "Binary relationship", "Work breakdown structure (WBS)", "Source/sink", "Network diagram", "Condition stubs", "Relationship"
    ];
    const getTermIndex = (term) => KEY_TERMS_LIST.indexOf(term);

    const EXAM_DB = [
        {
            id: '2025', title: 'Faculty 2025', questions: [
                { type: 'tf', q_en: "1. The Agile Methodologies focus on adaptive rather than predictive methodologies.", q_ar: "1. تركز منهجيات الأجايل (Agile) على المنهجيات التكيفية بدلاً من المنهجيات التنبؤية.", correct: true },
                { type: 'tf', q_en: "2. The Agile Methodologies focus on roles rather than people.", q_ar: "2. تركز منهجيات الأجايل على الأدوار بدلاً من الأشخاص.", correct: false },
                { type: 'tf', q_en: "3. An Agile or adaptive process is recommended if your project involves unpredictable or dynamic requirements.", q_ar: "3. يوصى بعملية أجايل أو عملية تكيفية إذا كان مشروعك يتضمن متطلبات غير متوقعة أو ديناميكية.", correct: true },
                { type: 'tf', q_en: "4. The Agile Methodologies thrives in a culture where people feel comfortable and empowered by having their roles defined by clear practices and procedures.", q_ar: "4. تزدهر منهجيات الأجايل في ثقافة يشعر فيها الناس بالراحة والتمكين من خلال تحديد أدوارهم بممارسات وإجراءات واضحة.", correct: false },
                { type: 'tf', q_en: "5. The object-oriented modelling approach provides the reusability of analysis, design, and programming results.", q_ar: "5. يوفر نهج النمذجة الموجهة للكائنات إمكانية إعادة استخدام نتائج التحليل والتصميم والبرمجة.", correct: true },
                { type: 'tf', q_en: "6. An object could be an artifact of the design process.", q_ar: "6. يمكن أن يكون الكائن نتاجاً لعملية التصميم.", correct: true },
                { type: 'tf', q_en: "7. The state of an object depends on its attribute values and links to other objects.", q_ar: "7. تعتمد حالة الكائن على قيم سماته وروابطه بالكائنات الأخرى.", correct: true },
                { type: 'tf', q_en: "8. The horizontal axis of the sequence diagram represents time, and the vertical axis represents the various participating objects.", q_ar: "8. يمثل المحور الأفقي لمخطط التتابع الوقت، ويمثل المحور الرأسي الكائنات المشاركة المختلفة.", correct: false },
                { type: 'tf', q_en: "9. A state is something that takes place at a certain point in time.", q_ar: "9. الحالة هي شيء يحدث في نقطة زمنية معينة.", correct: false },
                { type: 'tf', q_en: "10. An association is a relationship among object classes.", q_ar: "10. الرابطة (Association) هي علاقة بين فئات الكائنات.", correct: true },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Agile Methodologies"), q_en: "Creating uncomplicated software and software components that work to solve the current problem rather than creating complicated software designed for a future that may not come.", q_ar: "إنشاء برمجيات ومكونات برمجية غير معقدة تعمل على حل المشكلة الحالية، بدلاً من إنشاء برمجيات معقدة مصممة لمستقبل قد لا يأتي أبداً." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Event"), q_en: "Something that takes place at a certain point in time; it is a noteworthy occurrence that triggers a state transition.", q_ar: "شيء يحدث في نقطة زمنية معينة؛ وهو حدث جدير بالملاحظة يتسبب في انتقال الحالة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Object class"), q_en: "A set of objects that share a common structure and a common behavior.", q_ar: "مجموعة من الكائنات التي تشترك في بنية موحدة وسلوك مشترك." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Unified Modeling Language"), q_en: "A notation that allows the modeler to specify, visualize, and construct the artifacts of software systems, as well as business models.", q_ar: "تدوين يسمح للمصمم بتحديد وتصور وبناء عناصر أنظمة البرمجيات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Association role"), q_en: "The end of an association where it connects to a class.", q_ar: "طرف الرابطة حيث تتصل بالفئة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("State transition"), q_en: "The changes in the attributes of an object or in the links an object has with other objects.", q_ar: "التغييرات التي تطرأ على سمات الكائن أو في الروابط التي يمتلكها مع كائنات أخرى." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Component diagram"), q_en: "A diagram that shows the software components or modules and their dependencies.", q_ar: "مخطط يظهر مكونات البرمجيات أو الوحدات النمطية واعتمادياتها." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Use case"), q_en: "A complete sequence of related actions initiated by an actor; it represents a specific way to use the system.", q_ar: "تسلسل كامل من الإجراءات المترابطة التي يبدأها ممثل؛ وهي تمثل طريقة محددة لاستخدام النظام." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Multiplicity"), q_en: "An indication of how many objects participate in a given relationship.", q_ar: "إشارة توضح عدد الكائنات التي تشارك في علاقة معينة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Operation"), q_en: "A function or a service that is provided by all the instances of a class.", q_ar: "وظيفة أو خدمة يتم توفيرها بواسطة جميع نسخ الفئة الواحدة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("State"), q_en: "A condition that encompasses an object's properties (attributes and relationships) and the values those properties have.", q_ar: "شرط يشمل خصائص الكائن السمات والعلاقات والقيم التي تمتلكها تلك الخصائص في لحظة ما." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Class diagram"), q_en: "A diagram that shows the static structure of an object-oriented model: the object classes, their internal structure, and the relationships in which they participate.", q_ar: "مخطط يظهر الهيكل الثابت للنموذج الموجه للكائنات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Abstract class"), q_en: "A class that has no direct instances but whose descendants may have direct instances.", q_ar: "فئة لا يمكن إنشاء نسخ منها مباشرة، ولكن الفئات الوارثة منها يمكن أن يكون لها نسخ." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Simple message"), q_en: "A message that transfers control from the sender to the recipient without describing the details of the communication.", q_ar: "رسالة تنقل التحكم من المرسل إلى المستقبل دون وصف تفاصيل الاتصال." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Sequence diagram"), q_en: "A depiction of the interactions among objects during a certain period of time.", q_ar: "تصوير للتفاعلات التي تحدث بين الكائنات خلال فترة زمنية معينة." }
            ]
        },
        {
            id: '2015-2024', title: 'Comprehensive 2015-2024', questions: [
                { type: 'tf', q_en: "1. Application software designed to process data and support users in an organization.", q_ar: "1. البرمجيات التطبيقية (Application Software) هي التي تصمم لمعالجة البيانات ودعم المستخدمين في المنظمة.", correct: true },
                { type: 'tf', q_en: "2. In Joint application design (JAD), requirements are collected by using interview, observations.", q_ar: "2. في تصميم التطبيقات المشترك JAD يتم جمع المتطلبات عبر المقابلات والملاحظة.", correct: false },
                { type: 'tf', q_en: "3. Rapid application development (RAD) is a structured process in which users, managers, and analysts work together for several days in a series of intensive meetings.", q_ar: "3. التطوير السريع RAD هو عملية يجتمع فيها المستخدمون والمديرون لأيام في اجتماعات مكثفة.", correct: false },
                { type: 'tf', q_en: "4. Cloud computing, is The practice of turning over responsibility of some or all of an organization's information systems applications and operations to an outside firm.", q_ar: "4. الحوسبة السحابية هي ممارسة تسليم مسؤولية إدارة أنظمة وعمليات المنظمة لشركة خارجية.", correct: false },
                { type: 'tf', q_en: "5. Slack time is the amount of time that an activity can be delayed without delaying the project.", q_ar: "5. وقت الركود هو مقدار الوقت الذي يمكن فيه تأخير نشاط ما دون أن يتسبب ذلك في تأخير المشروع ككل.", correct: true },
                { type: 'tf', q_en: "6. Baseline project plan (BPP) is a document prepared for the customer that describes what the project will deliver and outlines generally at a high level all work required to complete the project.", q_ar: "6. خطة المشروع الأساسية BPP هي وثيقة تعد للعميل تصف العمل بشكل عام وعلى مستوى عال.", correct: false },
                { type: 'tf', q_en: "7. Walkthrough is a strategy in systems analysis and design in which the project is reviewed after each phase and continuation of the project is rejustified in each of these reviews.", q_ar: "7. المراجعة التفصيلية Walkthrough هي استراتيجية يتم فيها مراجعة استمرار المشروع بعد كل مرحلة.", correct: false },
                { type: 'mcq', q_en: "1. Gantt chart can be defined as:", q_ar: "1. يمكن تعريف مخطط جانت بأنه:", options: ["A diagram that depicts project tasks...", "A graphical representation of a project that shows each task activity as a horizontal bar...", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "2. The definition of a COCOMO can be stated as:", q_ar: "2. تعريف كوكومو هو:", options: ["A technique that uses optimistic...", "A technique for estimating a software project's size and cost.", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "3. The process of breaking the description of a system down into small components, is generally referred to as:", q_ar: "3. عملية تقسيم وصف النظام إلى مكونات صغيرة تسمى عموما:", options: ["Decomposition", "Coupling", "Modularity"], correct: 0 },
                { type: 'mcq', q_en: "4. An approaches to systems development that focus on adaptive methodologies, people instead of roles... is referred to as:", q_ar: "4. نهج لتطوير النظم يركز على المنهجيات المتكيفية والأشخاص بدلا من الأدوار يشار إليه بـ:", options: ["Prototyping", "CASE", "JAD", "None of the above (Agile)"], correct: 3 },
                { type: 'mcq', q_en: "5. The context diagram is referred to as:", q_ar: "5. يشار إلى مخطط السياق بأنه:", options: ["A data-flow diagram... high level of detail", "A data-flow diagram of the scope... shows system boundaries", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "6. A Network diagrams shows:", q_ar: "6. يوضح مخطط الشبكة:", options: ["The duration of tasks", "The sequence dependencies between tasks", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "7. Questions in interviews and on questionnaires that have no prespecified answers can be stated as:", q_ar: "7. الأسئلة في المقابلات والاستبيانات التي ليس لها إجابات محددة مسبقا تسمى:", options: ["Close-ended questions", "Open-ended questions", "None of the above"], correct: 1 },
                { type: 'mcq', q_en: "8. The overall goal or function of a system:", q_ar: "8. الهدف العام أو الوظيفة للنظام يسمى:", options: ["Constraint", "Purpose", "None of the above"], correct: 1 },
                { type: 'mcq', q_en: "9. Reuse is the use of previously written software resources... characterized by:", q_ar: "9. إعادة الاستخدام هي استخدام موارد برمجية سابقة... وتتميز بـ:", options: ["Increase programmer productivity", "Higher-quality software", "Decreasing maintenance costs", "All of the above"], correct: 3 },
                { type: 'mcq', q_en: "10. Prototyping can be stated as:", q_ar: "10. يمكن تعريف النمذجة الأولية بأنها:", options: ["A document provided to vendors...", "A structured process... intensive meetings", "None of the above (Building scaled-down version)"], correct: 2 },
                { type: 'mcq', q_en: "11. The definition of a PERT can be stated as:", q_ar: "11. يمكن تعريف تقنية بيرت بأنها:", options: ["A technique that uses optimistic, pessimistic, and realistic time estimates...", "A technique for estimating... size and cost", "All of the above"], correct: 0 },
                { type: 'mcq', q_en: "12. Dividing a system up into chunks or modules of a relatively uniform size, is generally referred to as:", q_ar: "12. تقسيم النظام إلى قطع أو وحدات ذات حجم متجانس نسبيا يشار إليه عموما بـ:", options: ["Decomposition", "Coupling", "Modularity"], correct: 2 },
                { type: 'mcq', q_en: "13. A structured process in which users, managers, and analysts work together for several days in intensive meetings...:", q_ar: "13. عملية منظمة يعمل فيها المستخدمون والمديرون والمحللون معا لعدة أيام في اجتماعات مكثفة:", options: ["Prototyping", "CASE", "Joint application design (JAD)"], correct: 2 },
                { type: 'mcq', q_en: "14. Informal system:", q_ar: "14. النظام غير الرسمي:", options: ["The way a system actually works", "The official way a system works...", "None of the above"], correct: 0 },
                { type: 'mcq', q_en: "15. The main goal of project management is to:", q_ar: "15. الهدف الرئيسي لإدارة المشاريع هو:", options: ["Ensure... meet customer expectations", "Delivering within budget/time", "All of above"], correct: 2 },
                { type: 'mcq', q_en: "16. The definition of a system can be stated as:", q_ar: "16. يمكن ذكر تعريف النظام كـ:", options: ["Methodology for obtaining utilization...", "Irreducible part...", "An interrelated set of components working together for some purpose"], correct: 2 },
                { type: 'mcq', q_en: "17. Dividing the project into manageable tasks (WBS) can be prepared in:", q_ar: "17. تقسيم المشروع إلى مهام قابلة للإدارة (WBS) يتم إعداده في:", options: ["Planning phase", "Initiating phase", "All of the above"], correct: 0 },
                { type: 'mcq', q_en: "18. Questions... that ask those responding to choose from among a set of specified responses:", q_ar: "18. الأسئلة التي تطلب من المستجيب الاختيار من مجموعة ردود محددة:", options: ["Closed-ended questions", "Open-ended questions", "None of the above"], correct: 0 },
                { type: 'mcq', q_en: "19. Establishing a relationship with the customer, in which phase... can be done:", q_ar: "19. تأسيس العلاقة مع العميل يتم في مرحلة:", options: ["Planning", "Initiating", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "20. A systems development approach that originated in [Northern Europe]... users are central focus:", q_ar: "20. نهج لتطوير النظم نشأ في شمال أوروبا... التركيز المركزي على المستخدمين:", options: ["Participatory design (PD)", "Agile Methodologies", "JAD"], correct: 0 },
                { type: 'mcq', q_en: "21. A limit to what a system can accomplish is referred to as:", q_ar: "21. الحد الذي يمنع النظام من تحقيق شيء ما يشار إليه بـ:", options: ["Interface", "Constraint", "Boundary"], correct: 1 },
                { type: 'mcq', q_en: "22. The major goal of systems analysis and design is to:", q_ar: "22. الهدف الرئيسي لتحليل وتصميم النظم هو:", options: ["Meet customer expectations", "Within budget/time", "Improve organizational systems"], correct: 2 },
                { type: 'mcq', q_en: "23. Enterprise resource planning (ERP) systems, is a system that:", q_ar: "23. أنظمة تخطيط موارد المؤسسات (ERP) هي نظام:", options: ["Utilization of information...", "Integrates individual traditional business functions into a series of modules...", "All of the above"], correct: 1 },
                { type: 'mcq', q_en: "24. Deliverable, is generally referred to as:", q_ar: "24. يشار إلى التسليمات عموما بأنها:", options: ["Prototyping", "Controlled process...", "An end product in a phase"], correct: 2 },
                { type: 'mcq', q_en: "25. Incremental commitment is a strategy... in which the project is:", q_ar: "25. الالتزام التزايدي هو استراتيجية يتم فيها:", options: ["Reviewed after each phase", "Continuation is rejustified", "All of the above"], correct: 2 },
                { type: 'mcq', q_en: "26. Scribe is the person who:", q_ar: "26. المدوّن هو الشخص الذي:", options: ["Plans and leads JAD...", "Works as described...", "None of the above (Person who makes detailed notes)"], correct: 2 },
                { type: 'mcq', q_en: "27. The form is:", q_ar: "27. النموذج هو:", options: ["A business document that contains only predefined data... passive", "...based on one database record", "All of the above"], correct: 0 },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Participatory design (PD)"), q_en: "A systems development approach that originated in northern Europe, in which users and the improvement of their work lives are the central focus.", q_ar: "نهج لتطوير النظم نشأ في شمال أوروبا حيث يكون المستخدمون وتحسين حياتهم العملية هو التركيز الأساسي." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Systems implementation and operation"), q_en: "Final phase of the SDLC, in which the information system is coded, tested, and installed in the organization.", q_ar: "المرحلة الأخيرة من دورة حياة تطوير النظم حيث يتم كتابة كود النظام واختباره وتثبيته في المنظمة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Project management"), q_en: "A controlled process of initiating, planning, executing, and closing down a project.", q_ar: "عملية محكمة للبدء والتخطيط والتنفيذ وإغلاق المشروع." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Repository"), q_en: "A centralized database that contains all diagrams, forms and report definitions, data structures, etc.", q_ar: "قاعدة بيانات مركزية تحتوي على جميع المخططات والنماذج وتعاريف التقارير وهياكل البيانات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Project workbook"), q_en: "An online or hard-copy repository for all project correspondence, inputs, outputs, deliverables.", q_ar: "مستودع عبر الإنترنت أو نسخة ورقية لجميع مراسلات المشروع والمدخلات والمخرجات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Resources"), q_en: "Any person, group of people, piece of equipment, or material used in accomplishing an activity.", q_ar: "أي شخص أو مجموعة أشخاص أو قطعة من المعدات أو المواد المستخدمة في إنجاز نشاط ما." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Project charter"), q_en: "A short document prepared for the customer during project initiation that describes what the project will deliver.", q_ar: "وثيقة قصيرة يتم إعدادها للعميل أثناء بدء المشروع تصف ما سيقدمه المشروع وتحدد بشكل عام العمل المطلوب." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Extranet"), q_en: "Internet-based communication to support business-to-business activities.", q_ar: "الاتصالات القائمة على الإنترنت لدعم الأنشطة التجارية بين الشركات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Recurring cost"), q_en: "A cost resulting from the ongoing evolution and use of the system.", q_ar: "تكلفة ناتجة عن التطور المستمر واستخدام النظام." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("One-time cost"), q_en: "A cost associated with project initiation and development, or system start-up.", q_ar: "تكلفة مرتبطة ببدء المشروع وتطويره أو بدء تشغيل النظام." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Scribe"), q_en: "The person who makes detailed notes of the happenings at a joint application design (JAD) session.", q_ar: "الشخص الذي يقوم بتدوين ملاحظات تفصيلية للأحداث في جلسة تصميم التطبيقات المشتركة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Data store"), q_en: "Data at rest, which may take the form of many different physical representations.", q_ar: "البيانات في حالة سكون والتي قد تأخذ شكل العديد من التمثيلات المادية المختلفة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("DFD consistency"), q_en: "The extent to which information contained on one level of a set of nested data-flow diagrams is also included on other levels.", q_ar: "المدى الذي تكون فيه المعلومات الواردة في مستوى واحد من مخططات تدفق البيانات مضمنة أيضاً في مستويات أخرى." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Systems development methodology"), q_en: "A standard process followed in an organization to conduct all the steps necessary to analyze, design, implement, and maintain information systems.", q_ar: "عملية قياسية متبعة في منظمة لإجراء جميع الخطوات اللازمة لتحليل وتصميم وتنفيذ وصيانة نظم المعلومات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Process"), q_en: "The work or actions performed on data so that they are transformed, stored, or distributed.", q_ar: "العمل أو الإجراءات التي يتم تنفيذها على البيانات بحيث يتم تحويلها أو تخزينها أو توزيعها." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Constraint"), q_en: "A limit to what a system can accomplish.", q_ar: "حد لما يمكن للنظام تحقيقه أو إنجازه." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Purpose"), q_en: "The overall goal or function of a system.", q_ar: "الهدف العام أو الوظيفة الأساسية للنظام." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Request for proposal (RFP)"), q_en: "A document provided to vendors to ask them to propose hardware and system software that will meet the requirements of your new system.", q_ar: "وثيقة تقدم للبائعين لطلب اقتراحاتهم للأجهزة والبرامج التي ستلبي متطلبات نظامك الجديد." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Network diagram"), q_en: "A diagram that depicts project tasks and their interrelationships.", q_ar: "مخطط يصور مهام المشروع والعلاقات المتبادلة بينها." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Work breakdown structure (WBS)"), q_en: "The process of dividing the project into manageable tasks and logically ordering them to ensure a smooth evolution between tasks.", q_ar: "عملية تقسيم المشروع إلى مهام قابلة للإدارة وترتيبها منطقياً لضمان سير العمل بسلاسة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Walkthrough"), q_en: "A peer group review of any product created during the systems development process.", q_ar: "مراجعة جماعية من الزملاء لأي منتج تم إنشاؤه أثناء عملية تطوير النظم." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Condition stubs"), q_en: "That part of a decision table that lists the conditions relevant to the decision.", q_ar: "ذلك الجزء من جدول القرارات الذي يسرد الشروط ذات الصلة بالقرار." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Level-0 diagram"), q_en: "A data-flow diagram that represents a system's major processes, data flows, and data stores at a high level of detail.", q_ar: "مخطط تدفق بيانات يمثل العمليات الرئيسية ومخازن البيانات في النظام بتفصيل عال." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Source/sink"), q_en: "The origin and/or destination of data; sometimes referred to as external entities.", q_ar: "أصل أو وجهة البيانات ويشار إليها أحياناً بالكيانات الخارجية." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Binary relationship"), q_en: "A relationship between instances of two entity types.", q_ar: "علاقة بين حالات من نوعين من الكيانات." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Entity type"), q_en: "A collection of entities that share common properties or characteristics.", q_ar: "مجموعة من الكيانات التي تشترك في خصائص أو صفات مشتركة." },
                { type: 'match', options: KEY_TERMS_LIST, correct: getTermIndex("Relationship"), q_en: "An association between the instances of one or more entity types that is of interest to the organization.", q_ar: "ارتباط بين حالات واحد أو أكثر من أنواع الكيانات التي تهم المنظمة." },
                { type: 'essay', q_en: "Q1) Mention the different phases in the systems development life cycle (SDLC)?", q_ar: "س1) اذكر المراحل المختلفة في دورة حياة تطوير النظم (SDLC)؟", answer: "<strong style='color:var(--neon-blue)'>1. Planning</strong> (التخطيط)<br><strong style='color:var(--neon-blue)'>2. Analysis</strong> (التحليل)<br><strong style='color:var(--neon-blue)'>3. Design</strong> (التصميم)<br><strong style='color:var(--neon-blue)'>4. Implementation</strong> (التنفيذ)<br><strong style='color:var(--neon-blue)'>5. Maintenance</strong> (الصيانة)" },
                { type: 'essay', q_en: "Q2) Mention the common skills and activities of a project manager. Which skill do you think is most important? Why?", q_ar: "س2) اذكر المهارات والأنشطة الشائعة لمدير المشروع. أي مهارة تعتقد أنها الأكثر أهمية؟ ولماذا؟", answer: "<strong>Common Skills:</strong> Leadership, Communication, Conflict Management, Team Building.<br><strong>Most Important:</strong> <span style='color:var(--neon-green)'>Communication</span>.<br><strong>Why?</strong> Because 90% of a project manager's job is communicating with the team and stakeholders." },
                { type: 'essay', q_en: "Q3) Describe the activities performed by the project manager during project closedown.", q_ar: "س3) صف الأنشطة التي يقوم بها مدير المشروع أثناء إغلاق المشروع.", answer: "1. <strong>Closing the project:</strong> Terminating contracts and releasing resources.<br>2. <strong>Post-project reviews:</strong> Identifying lessons learned.<br>3. <strong>Closing customer contract:</strong> Getting final sign-off from the customer." },
                { type: 'essay', q_en: "Q4) Describe and compare the six sources of software?", q_ar: "س4) صف وقارن بين المصادر الستة للبرمجيات؟", answer: "1. <strong>IT Services Firm:</strong> Custom and tailored solutions, but expensive.<br>2. <strong>Packaged Software:</strong> Ready-made (off-the-shelf), cheap, and fast.<br>3. <strong>Enterprise Solutions (ERP):</strong> Integrated systems for the whole organization (e.g., SAP).<br>4. <strong>Cloud Computing:</strong> Renting software online (SaaS), flexible and pay-per-use.<br>5. <strong>Open Source:</strong> Free source code, modifiable (e.g., Linux).<br>6. <strong>In-House Development:</strong> Built internally by the company's own staff." }
            ]
        }
    ];
    
    console.log("System Ready - Ultimate v2.0 Mobile Optimized");
</script>
</body>
</html>
